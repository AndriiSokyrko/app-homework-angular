"use strict";(self.webpackChunkhw_angular=self.webpackChunkhw_angular||[]).push([[103],{7103:(C,c,s)=>{s.r(c),s.d(c,{EditDashboardModule:()=>T});var l=s(7013),r=s(433),h=s(6448),m=s(6632),t=s(8256),u=s(4914),d=s(9912),p=s(6895),a=s(5085);function g(o,i){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.message)}}function b(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Login is required. "),t.qZA())}function D(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Login must be at least 4 characters long. "),t.qZA())}function v(o,i){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,b,2,0,"div",1),t.YNc(2,D,2,0,"div",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.formDashboard.controls.title.errors?null:e.formDashboard.controls.title.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.formDashboard.controls.title.errors?null:e.formDashboard.controls.title.errors.minlength)}}function _(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Login is required. "),t.qZA())}function x(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Login must be at least 4 characters long. "),t.qZA())}function M(o,i){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,_,2,0,"div",1),t.YNc(2,x,2,0,"div",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.formDashboard.controls.description.errors?null:e.formDashboard.controls.description.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.formDashboard.controls.description.errors?null:e.formDashboard.controls.description.errors.minlength)}}const Z=function(o){return{background:o}},O=[{path:"",component:(()=>{class o{constructor(e,n,f,E,w){this.dashboardService=e,this.store=n,this.ref=f,this.route=E,this.routeAct=w,this.message="",this.formDashboard=new r.cw({title:new r.NI("",[r.kI.required,r.kI.minLength(5)]),description:new r.NI("",[r.kI.required,r.kI.minLength(5)])})}ngOnInit(){localStorage.getItem("selectedColor")&&(this.selectedColor=JSON.parse(localStorage.getItem("selectedColor")));const e=Number(this.routeAct.snapshot.params.id);this.store.select(m.l1,{id:e}).subscribe(n=>{void 0!==n&&(this.dashboard=n,this.formDashboard.controls.title.setValue(n.title),this.formDashboard.controls.description.setValue(n.description))})}changeDashboard(){return{id:this.dashboard.id,title:this.formDashboard.controls.title.value,description:this.formDashboard.controls.description.value,date:this.dashboard.date,progress:this.dashboard.progress,done:this.dashboard.done,archive:this.dashboard.archive}}editDashboardStore(e){return this.store.dispatch((0,h.ri)(e))}onSubmit(){const e=this.changeDashboard();this.dashboardService.editDashboard(e).subscribe(n=>{this.editDashboardStore(e)}),this.route.navigate(["/dashboard"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.s),t.Y36(d.yh),t.Y36(t.sBO),t.Y36(l.F0),t.Y36(l.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dash-card-edit"]],decls:20,vars:9,consts:[[1,"form-wrapper",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"top--wrapper"],["routerLink","/dashboard"],[1,"input-wrapper"],["for","title"],["id","title_id","type","text","formControlName","title"],["class","invalid",4,"ngIf"],["for","description"],["id","description_id","type","text","formControlName","description"],["type","submit",3,"disabled"],[1,"invalid"]],template:function(e,n){1&e&&(t.TgZ(0,"app-modal")(1,"form",0),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.YNc(2,g,2,1,"p",1),t.TgZ(3,"div",2)(4,"h1"),t._uU(5,"Edit dashboard"),t.qZA(),t.TgZ(6,"a",3),t._uU(7,"\u2716"),t.qZA()(),t.TgZ(8,"div",4)(9,"label",5),t._uU(10,"Title dashboard: "),t.qZA(),t._UZ(11,"input",6),t.YNc(12,v,3,2,"div",7),t.qZA(),t.TgZ(13,"div",4)(14,"label",8),t._uU(15,"Description: "),t.qZA(),t._UZ(16,"input",9),t.YNc(17,M,3,2,"div",7),t.qZA(),t.TgZ(18,"button",10),t._uU(19,"Submit"),t.qZA()()()),2&e&&(t.xp6(1),t.Akn(t.VKq(7,Z,n.selectedColor[1])),t.Q6J("formGroup",n.formDashboard),t.xp6(1),t.Q6J("ngIf",null!==n.message),t.xp6(10),t.Q6J("ngIf",n.formDashboard.controls.title.invalid&&(n.formDashboard.controls.title.dirty||n.formDashboard.controls.title.touched)),t.xp6(5),t.Q6J("ngIf",n.formDashboard.controls.description.invalid&&(n.formDashboard.controls.description.dirty||n.formDashboard.controls.description.touched)),t.xp6(1),t.Q6J("disabled",!n.formDashboard.valid))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,l.yS,a.z],styles:[".form-wrapper[_ngcontent-%COMP%]{padding:75px;width:600px;display:flex;flex-direction:column;align-items:center;margin:0 auto;background:#D9D9D9;border-radius:10px}.form-wrapper[_ngcontent-%COMP%]   .top--wrapper[_ngcontent-%COMP%]{display:flex;width:250px;justify-content:space-between;align-items:center;cursor:pointer}.form-wrapper[_ngcontent-%COMP%]   .top--wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.form-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px;margin-bottom:15px}.form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;width:150px}.valid[_ngcontent-%COMP%]{color:green;border:1px solid green}.invalid[_ngcontent-%COMP%]{color:red;border:1px solid red}"],changeDetection:0}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(O),l.Bz]}),o})()},5085:(C,c,s)=>{s.d(c,{z:()=>u});var l=s(9978),r=s(8256),h=s(9912);const m=function(d){return{background:d,opacity:.9}},t=["*"];let u=(()=>{class d{constructor(a){this.store=a,this.selectedColor=JSON.parse(localStorage.getItem("selectedColor"))}ngOnInit(){this.store.select(l.L).subscribe(a=>{this.selectedColor=a})}}return d.\u0275fac=function(a){return new(a||d)(r.Y36(h.yh))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-modal"]],inputs:{selectedColor:"selectedColor"},ngContentSelectors:t,decls:2,vars:4,consts:[[1,"wrapper-modal"]],template:function(a,g){1&a&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA()),2&a&&r.Akn(r.VKq(2,m,g.selectedColor[2]))},styles:[".wrapper-modal[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.4);display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),d})()}}]);