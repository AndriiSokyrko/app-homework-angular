"use strict";(self.webpackChunkhw_angular=self.webpackChunkhw_angular||[]).push([[803],{5803:(h,c,d)=>{d.r(c),d.d(c,{AddBoardModule:()=>O});var l=d(7013),e=d(433),m=d(810),o=d(8256),g=d(7752),f=d(4914),s=d(9912),p=d(6895),i=d(5085);function C(t,a){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const r=o.oxw();o.xp6(1),o.Oqu(r.message.message)}}function _(t,a){1&t&&(o.TgZ(0,"div"),o._uU(1," Login is required. "),o.qZA())}function v(t,a){1&t&&(o.TgZ(0,"div"),o._uU(1," Login must be at least 4 characters long. "),o.qZA())}function b(t,a){if(1&t&&(o.TgZ(0,"div",16),o.YNc(1,_,2,0,"div",1),o.YNc(2,v,2,0,"div",1),o.qZA()),2&t){const r=o.oxw();o.xp6(1),o.Q6J("ngIf",null==r.formBoard.controls.title.errors?null:r.formBoard.controls.title.errors.required),o.xp6(1),o.Q6J("ngIf",null==r.formBoard.controls.title.errors?null:r.formBoard.controls.title.errors.minlength)}}function B(t,a){1&t&&(o.TgZ(0,"div"),o._uU(1," Login is required. "),o.qZA())}function Z(t,a){1&t&&(o.TgZ(0,"div"),o._uU(1," Login must be at least 4 characters long. "),o.qZA())}function A(t,a){if(1&t&&(o.TgZ(0,"div",16),o.YNc(1,B,2,0,"div",1),o.YNc(2,Z,2,0,"div",1),o.qZA()),2&t){const r=o.oxw();o.xp6(1),o.Q6J("ngIf",null==r.formBoard.controls.description.errors?null:r.formBoard.controls.description.errors.required),o.xp6(1),o.Q6J("ngIf",null==r.formBoard.controls.description.errors?null:r.formBoard.controls.description.errors.minlength)}}const T=function(t){return{background:t}},x=function(t){return["/board/",t]},M=[{path:"",component:(()=>{class t{constructor(r,n,u,I,w,y){this.boardService=r,this.dashboardService=n,this.store=u,this.ref=I,this.route=w,this.routeAct=y,this.message=null,this.formBoard=new e.cw({title:new e.NI("",[e.kI.required,e.kI.minLength(5)]),description:new e.NI("",[e.kI.required,e.kI.minLength(5)]),status:new e.NI("todo",e.kI.required)})}ngOnInit(){localStorage.getItem("selectedColor")&&(this.selectedColor=JSON.parse(localStorage.getItem("selectedColor"))),this.dashboardId=+this.route.url.split("/")[2]}newBoard(){const r=this.formBoard.controls.status.value;return{title:this.formBoard.controls.title.value,description:this.formBoard.controls.description.value,dashboardId:Number(this.dashboardId),date:(new Date).toLocaleDateString(),status:{todo:"todo"===r,progress:"progress"===r,done:"done"===r}}}onSubmit(){const r=this.newBoard();this.boardService.addBoard(r).subscribe(n=>{void 0!==n&&(this.store.dispatch((0,m.aX)(n)),this.dashboardService.patchDashboard({id:r.dashboardId,progress:!0}).subscribe(u=>u),this.route.navigate(["/board/",this.dashboardId]))})}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(g.$),o.Y36(f.s),o.Y36(s.yh),o.Y36(o.sBO),o.Y36(l.F0),o.Y36(l.gz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-board-card-add"]],decls:35,vars:12,consts:[[1,"form-wrapper",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"top--wrapper"],[3,"routerLink"],[1,"input-wrapper"],["for","title"],["id","title_id","type","text","formControlName","title"],["class","invalid",4,"ngIf"],["for","description"],["id","description_id","type","description","formControlName","description"],[1,"radio-wrapper"],["for","status"],["type","radio","value","todo","formControlName","status"],["type","radio","value","progress","formControlName","status"],["type","radio","value","done","formControlName","status"],["type","submit",3,"disabled"],[1,"invalid"]],template:function(r,n){1&r&&(o.TgZ(0,"app-modal")(1,"form",0),o.NdJ("ngSubmit",function(){return n.onSubmit()}),o.YNc(2,C,2,1,"p",1),o.TgZ(3,"div",2)(4,"h1"),o._uU(5,"Add board"),o.qZA(),o.TgZ(6,"a",3),o._uU(7,"\u2716"),o.qZA()(),o.TgZ(8,"div",4)(9,"label",5),o._uU(10,"Title board: "),o.qZA(),o._UZ(11,"input",6),o.YNc(12,b,3,2,"div",7),o.qZA(),o.TgZ(13,"div",4)(14,"label",8),o._uU(15,"Description: "),o.qZA(),o._UZ(16,"input",9),o.YNc(17,A,3,2,"div",7),o.qZA(),o.TgZ(18,"div",10)(19,"label",11),o._uU(20,"Status : "),o.qZA(),o.TgZ(21,"label"),o._UZ(22,"input",12),o.TgZ(23,"span"),o._uU(24,"todo"),o.qZA()(),o.TgZ(25,"label"),o._UZ(26,"input",13),o.TgZ(27,"span"),o._uU(28,"progress"),o.qZA()(),o.TgZ(29,"label"),o._UZ(30,"input",14),o.TgZ(31,"span"),o._uU(32,"done"),o.qZA()()(),o.TgZ(33,"button",15),o._uU(34,"Submit"),o.qZA()()()),2&r&&(o.xp6(1),o.Akn(o.VKq(8,T,n.selectedColor[1])),o.Q6J("formGroup",n.formBoard),o.xp6(1),o.Q6J("ngIf",null!==n.message),o.xp6(4),o.Q6J("routerLink",o.VKq(10,x,n.dashboardId)),o.xp6(6),o.Q6J("ngIf",n.formBoard.controls.title.invalid&&(n.formBoard.controls.title.dirty||n.formBoard.controls.title.touched)),o.xp6(5),o.Q6J("ngIf",n.formBoard.controls.description.invalid&&(n.formBoard.controls.description.dirty||n.formBoard.controls.description.touched)),o.xp6(16),o.Q6J("disabled",!n.formBoard.valid))},dependencies:[p.O5,e._Y,e.Fj,e._,e.JJ,e.JL,e.sg,e.u,l.yS,i.z],styles:[".form-wrapper[_ngcontent-%COMP%]{padding:75px;width:600px;display:flex;flex-direction:column;align-items:center;margin:0 auto;background:#D9D9D9;border-radius:10px}.form-wrapper[_ngcontent-%COMP%]   .top--wrapper[_ngcontent-%COMP%]{display:flex;width:250px;justify-content:space-between;align-items:center;cursor:pointer}.form-wrapper[_ngcontent-%COMP%]   .top--wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.form-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px;margin-bottom:15px}.form-wrapper[_ngcontent-%COMP%]   .radio-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;width:150px}.valid[_ngcontent-%COMP%]{color:green;border:1px solid green}.invalid[_ngcontent-%COMP%]{color:red;border:1px solid red}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[l.Bz.forChild(M),l.Bz]}),t})()},5085:(h,c,d)=>{d.d(c,{z:()=>f});var l=d(9978),e=d(8256),m=d(9912);const o=function(s){return{background:s,opacity:.9}},g=["*"];let f=(()=>{class s{constructor(i){this.store=i,this.selectedColor=JSON.parse(localStorage.getItem("selectedColor"))}ngOnInit(){this.store.select(l.L).subscribe(i=>{this.selectedColor=i})}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(m.yh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-modal"]],inputs:{selectedColor:"selectedColor"},ngContentSelectors:g,decls:2,vars:4,consts:[[1,"wrapper-modal"]],template:function(i,C){1&i&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&i&&e.Akn(e.VKq(2,o,C.selectedColor[2]))},styles:[".wrapper-modal[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.4);display:flex;justify-content:center;align-items:center}.hide[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),s})()}}]);